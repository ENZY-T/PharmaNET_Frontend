
<app-nav-bar></app-nav-bar>


<div class="container-fluid">
    <div class="row" >
      <div class="col-4">
        <h4 style="text-align: center;">Search Products</h4>
        <p-orderList
        [value]="products"
        [listStyle]="{ 'max-height': '30rem' }"
        header="Products"
        filterBy="name"
        filterPlaceholder="Filter by name"
        [dragdrop]="true"
      >
        <ng-template let-product pTemplate="item">
          <div class="container">
            <div class="row" (click)="onClick(product)">
              <div class="col-sm">
                <div class="col-md-3 image-container imageStyle">
                  <img
                    src="https://localhost:5001{{ product.image }}"
                    [alt]="product.name"
                    class="product-image imageStyle"
                  />
                </div>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-sm">
                    <div class="col-md-4 ms-2">
                      <p class="mb-2">{{ product.name }}</p>
                    </div>
                  </div>
                  <div class="col-sm">
                    <div class="col-md-4 ms-2">
                      <p class="mb-2">Rs.{{ product.price }}</p>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm">
                    <div class="col-md-4 ms-2">
                      <p class="mb-2">{{ product.category }}</p>
                    </div>
                  </div>
                  <!-- <div class="col-sm">
                    <div class="col-md-4 ms-2">
                      <p class="mb-2">{{ product.quantity }}</p>
                    </div>
                  </div> -->
                </div>
                <div class="row">
                  <div class="col">
                    <p class="mb-2">{{ product.stockStatus }} : {{ product.quantity }} </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
    
        </ng-template>
      </p-orderList> 
      </div>
      <div class="col-3">
        <h4>Add to Cart</h4>
        <form [formGroup]="registrationForm">
            <div class="form-group">
              <div class="row">
                <div class="col">
                  <div class="input-group mb-2 col-md-4">
                    <label>Item Name</label>
                  </div>
                  <div class="col-md-6">
                    <div class="input-group mb-2 col-md-4">
                      <input
                      [(ngModel)]="itemNameGet"
                        type="text"
                        class="form-control"
                        placeholder="Item Name"
                        required
                        formControlName="itemName"
                      />
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                  <div class="col">
                    <div class="input-group mb-2 col-md-4">
                      <label>Amount</label>
                    </div>
                    <div class="col-md-6">
                      <div class="input-group mb-2 col-md-4">
                        <input
                        [(ngModel)]="itemQuantity"
                          type="text"
                          class="form-control"
                          placeholder="Amount"
                          required
                          formControlName="quantity"
                        />
                      </div>
                    </div>
                  </div>
                </div>
            </div>
  
            <div class="row">
              <div class="col-2">
                <button type="submit" class="btn btn-primary loingBtn" (click)="onAdd()">
                  Add
                </button>
              </div>
            </div>
          </form> 
      </div>
      <div class="col-5">
        <h4 style="text-align: center;">Bill</h4>
       <div >
        <label><b>Total Bill</b> - Rs.{{totalBIll}}</label>
       </div>
        <p-table [value]="cart" [tableStyle]="{'max-width': '400px'}"  [scrollable]="true" scrollHeight="350px" [virtualScroll]="true" [virtualScrollItemSize]="46">
            <ng-template pTemplate="header">
                <tr>
                    <th>Item Name</th>
                    <th>Quantity</th>
                    <th>Single Unit Price</th>
                    <th>Total Price</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-product>
                <tr>
                    <td>{{product.itemName}}</td>
                    <td>{{product.quantity}}</td>
                    <td>{{product.unitPrice}}</td>
                    <td>{{product.totalPrice}}</td>
                </tr>
            </ng-template>
        </p-table>
        <button pButton type="button" (click)="onClear()" label="Check Out" ></button>







      </div>
    </div>
  </div>





